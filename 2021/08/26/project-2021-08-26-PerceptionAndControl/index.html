<!DOCTYPE html>
<html lang=zh>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="renderer" content="webkit">
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="format-detection" content="telephone=no,email=no,adress=no">
  <!-- Color theme for statusbar -->
  <meta name="theme-color" content="#000000" />
  <!-- 强制页面在当前窗口以独立页面显示,防止别人在框架里调用页面 -->
  <meta http-equiv="window-target" content="_top" />
  
  
  <title>感知与控制（快递柜） | Hexo</title>
  <meta name="description" content="说明：本项目截止日期：2020年7月12日 本项目为之前的学习实践内容整理，记录学习过程，仅供参考、学习。 备注：本项目由三人小组共同完成。 项目仓库： 概述环境windows 10 eclipse 串口通信助手 快递柜仿真软件 虚拟串口助手 jdk1.8 设计目标(1)理解快递柜控制板仿真软件的通信协议，并设计实现，进而实现与快递柜控制板仿真软件的通信(对于控制命令要考虑可靠传输)。 (2)实现">
<meta property="og:type" content="article">
<meta property="og:title" content="感知与控制（快递柜）">
<meta property="og:url" content="http://stary2020.gitee.io/2021/08/26/project-2021-08-26-PerceptionAndControl/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="说明：本项目截止日期：2020年7月12日 本项目为之前的学习实践内容整理，记录学习过程，仅供参考、学习。 备注：本项目由三人小组共同完成。 项目仓库： 概述环境windows 10 eclipse 串口通信助手 快递柜仿真软件 虚拟串口助手 jdk1.8 设计目标(1)理解快递柜控制板仿真软件的通信协议，并设计实现，进而实现与快递柜控制板仿真软件的通信(对于控制命令要考虑可靠传输)。 (2)实现">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://stary2020.gitee.io/2021/08/26/project-2021-08-26-PerceptionAndControl/clip_image002-1629988011617.jpg">
<meta property="og:image" content="http://stary2020.gitee.io/2021/08/26/project-2021-08-26-PerceptionAndControl/image-20210826222757994.png">
<meta property="og:image" content="http://stary2020.gitee.io/2021/08/26/project-2021-08-26-PerceptionAndControl/image-20210826222836005.png">
<meta property="og:image" content="http://stary2020.gitee.io/2021/08/26/project-2021-08-26-PerceptionAndControl/image-20210826223310668.png">
<meta property="og:image" content="http://stary2020.gitee.io/2021/08/26/project-2021-08-26-PerceptionAndControl/image-20210826223321137.png">
<meta property="og:image" content="http://stary2020.gitee.io/2021/08/26/project-2021-08-26-PerceptionAndControl/image-20210826223333304.png">
<meta property="og:image" content="http://stary2020.gitee.io/2021/08/26/project-2021-08-26-PerceptionAndControl/image-20210826223345387.png">
<meta property="og:image" content="http://stary2020.gitee.io/2021/08/26/project-2021-08-26-PerceptionAndControl/image-20210826223350784.png">
<meta property="og:image" content="http://stary2020.gitee.io/2021/08/26/project-2021-08-26-PerceptionAndControl/image-20210826223403439.png">
<meta property="og:image" content="http://stary2020.gitee.io/2021/08/26/project-2021-08-26-PerceptionAndControl/image-20210826223409272.png">
<meta property="article:published_time" content="2021-08-26T05:29:47.000Z">
<meta property="article:modified_time" content="2021-08-26T15:13:47.830Z">
<meta property="article:author" content="stary">
<meta property="article:tag" content="java">
<meta property="article:tag" content="项目">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://stary2020.gitee.io/2021/08/26/project-2021-08-26-PerceptionAndControl/clip_image002-1629988011617.jpg">
  <!-- Canonical links -->
  <link rel="canonical" href="http://stary2020.gitee.io/2021/08/26/project-2021-08-26-PerceptionAndControl/index.html">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png" type="image/x-icon">
  
  
<link rel="stylesheet" href="/css/style.css">

  
  
  
  
<meta name="generator" content="Hexo 5.4.0"></head>


<body class="main-center" itemscope itemtype="http://schema.org/WebPage">
  <header class="header" itemscope itemtype="http://schema.org/WPHeader">
  <div class="slimContent">
    <div class="navbar-header">
      
      
      <div class="profile-block text-center">
        <a id="avatar" href="https://stary1999.github.io" target="_blank">
          <img class="img-circle img-rotate" src="/images/avatar.jpg" width="200" height="200">
        </a>
        <h2 id="name" class="hidden-xs hidden-sm">stary</h2>
        <h3 id="title" class="hidden-xs hidden-sm hidden-md">愿启明星照亮信仰，照进现实</h3>
        <small id="location" class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i> Jiangsu, China</small>
      </div>
      
      <div class="search" id="search-form-wrap">

    <form class="search-form sidebar-form">
        <div class="input-group">
            <input type="text" class="search-form-input form-control" placeholder="搜索" />
            <span class="input-group-btn">
                <button type="submit" class="search-form-submit btn btn-flat" onclick="return false;"><i class="icon icon-search"></i></button>
            </span>
        </div>
    </form>
    <div class="ins-search">
  <div class="ins-search-mask"></div>
  <div class="ins-search-container">
    <div class="ins-input-wrapper">
      <input type="text" class="ins-search-input" placeholder="想要查找什么..." x-webkit-speech />
      <button type="button" class="close ins-close ins-selectable" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
    </div>
    <div class="ins-section-wrapper">
      <div class="ins-section-container"></div>
    </div>
  </div>
</div>


</div>
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#main-navbar" aria-controls="main-navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <nav id="main-navbar" class="collapse navbar-collapse" itemscope itemtype="http://schema.org/SiteNavigationElement" role="navigation">
      <ul class="nav navbar-nav main-nav menu-highlight">
        
        
        <li class="menu-item menu-item-home">
          <a href="/.">
            
            <i class="icon icon-home-fill"></i>
            
            <span class="menu-title">首页</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-archives">
          <a href="/archives">
            
            <i class="icon icon-archives-fill"></i>
            
            <span class="menu-title">归档</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-categories">
          <a href="/categories">
            
            <i class="icon icon-folder"></i>
            
            <span class="menu-title">分类</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-tags">
          <a href="/tags">
            
            <i class="icon icon-tags"></i>
            
            <span class="menu-title">标签</span>
          </a>
        </li>
        
        
        <li class="menu-item menu-item-about">
          <a href="/about">
            
            <i class="icon icon-cup-fill"></i>
            
            <span class="menu-title">关于</span>
          </a>
        </li>
        
      </ul>
      
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/stary" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle=tooltip data-placement=top><i class="icon icon-rss"></i></a></li>
        
    </ul>

    </nav>
  </div>
</header>

  
    <aside class="sidebar" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    
      <div class="widget">
    <h3 class="widget-title">公告</h3>
    <div class="widget-body">
        <div id="board">
            <div class="content">
                <p>欢迎交流与分享经验!</p> </br> <p>博客迁移，功能尚未完善，评论无效</p>
            </div>
        </div>
    </div>
</div>

    
      
  <div class="widget">
    <h3 class="widget-title">分类</h3>
    <div class="widget-body">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/2021%E8%AF%BE%E8%AE%BE/">2021课设</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/default/">default</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%B7%A5%E5%85%B7/">工具</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%A1%86%E6%9E%B6/">框架</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E8%AF%AD%E8%A8%80/">语言</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%A1%B9%E7%9B%AE/">项目</a><span class="category-list-count">5</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">标签</h3>
    <div class="widget-body">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Java/" rel="tag">Java</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MyBatis/" rel="tag">MyBatis</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis/" rel="tag">Redis</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SDN/" rel="tag">SDN</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringBoot/" rel="tag">SpringBoot</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringBoot2/" rel="tag">SpringBoot2</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SpringCloud/" rel="tag">SpringCloud</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/android/" rel="tag">android</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/default/" rel="tag">default</a><span class="tag-list-count">14</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/" rel="tag">docker</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/" rel="tag">git</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github/" rel="tag">github</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/" rel="tag">hexo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/idea/" rel="tag">idea</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/" rel="tag">java</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jsp/" rel="tag">jsp</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jvm/" rel="tag">jvm</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/markdown/" rel="tag">markdown</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/springCloud/" rel="tag">springCloud</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ubuntu/" rel="tag">ubuntu</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue/" rel="tag">vue</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/web/" rel="tag">web</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%85%A5%E9%97%A8/" rel="tag">入门</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%AB%AF/" rel="tag">前端</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%9E%E8%B7%B5/" rel="tag">实践</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%9E%E9%AA%8C/" rel="tag">实验</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B7%A5%E5%85%B7/" rel="tag">工具</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%BF%83%E5%BE%97/" rel="tag">心得</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag">数据库</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%A5%E5%BF%97/" rel="tag">日志</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A1%86%E6%9E%B6/" rel="tag">框架</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%8B%82%E7%A5%9E/" rel="tag">狂神</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag">笔记</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BD%91%E7%BB%9C/" rel="tag">网络</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BE%A4%E9%9B%86/" rel="tag">群集</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%AD%E6%B3%95/" rel="tag">语法</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/" rel="tag">课程设计</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B8%A9%E5%9D%91/" rel="tag">踩坑</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%A2%E8%AF%95/" rel="tag">面试</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%A1%B9%E7%9B%AE/" rel="tag">项目</a><span class="tag-list-count">4</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">标签云</h3>
    <div class="widget-body tagcloud">
      <a href="/tags/Java/" style="font-size: 13px;">Java</a> <a href="/tags/MyBatis/" style="font-size: 13px;">MyBatis</a> <a href="/tags/Redis/" style="font-size: 13px;">Redis</a> <a href="/tags/SDN/" style="font-size: 13px;">SDN</a> <a href="/tags/SpringBoot/" style="font-size: 13px;">SpringBoot</a> <a href="/tags/SpringBoot2/" style="font-size: 13px;">SpringBoot2</a> <a href="/tags/SpringCloud/" style="font-size: 13px;">SpringCloud</a> <a href="/tags/android/" style="font-size: 13px;">android</a> <a href="/tags/default/" style="font-size: 14px;">default</a> <a href="/tags/docker/" style="font-size: 13px;">docker</a> <a href="/tags/git/" style="font-size: 13px;">git</a> <a href="/tags/github/" style="font-size: 13px;">github</a> <a href="/tags/hexo/" style="font-size: 13px;">hexo</a> <a href="/tags/idea/" style="font-size: 13px;">idea</a> <a href="/tags/java/" style="font-size: 13.8px;">java</a> <a href="/tags/jsp/" style="font-size: 13px;">jsp</a> <a href="/tags/jvm/" style="font-size: 13px;">jvm</a> <a href="/tags/markdown/" style="font-size: 13px;">markdown</a> <a href="/tags/springCloud/" style="font-size: 13px;">springCloud</a> <a href="/tags/ubuntu/" style="font-size: 13px;">ubuntu</a> <a href="/tags/vue/" style="font-size: 13px;">vue</a> <a href="/tags/web/" style="font-size: 13px;">web</a> <a href="/tags/%E5%85%A5%E9%97%A8/" style="font-size: 13px;">入门</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 13px;">前端</a> <a href="/tags/%E5%AE%9E%E8%B7%B5/" style="font-size: 13.2px;">实践</a> <a href="/tags/%E5%AE%9E%E9%AA%8C/" style="font-size: 13px;">实验</a> <a href="/tags/%E5%B7%A5%E5%85%B7/" style="font-size: 13.4px;">工具</a> <a href="/tags/%E5%BF%83%E5%BE%97/" style="font-size: 13px;">心得</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 13px;">数据库</a> <a href="/tags/%E6%97%A5%E5%BF%97/" style="font-size: 13px;">日志</a> <a href="/tags/%E6%A1%86%E6%9E%B6/" style="font-size: 13.2px;">框架</a> <a href="/tags/%E7%8B%82%E7%A5%9E/" style="font-size: 13px;">狂神</a> <a href="/tags/%E7%AC%94%E8%AE%B0/" style="font-size: 13.2px;">笔记</a> <a href="/tags/%E7%BD%91%E7%BB%9C/" style="font-size: 13px;">网络</a> <a href="/tags/%E7%BE%A4%E9%9B%86/" style="font-size: 13px;">群集</a> <a href="/tags/%E8%AF%AD%E6%B3%95/" style="font-size: 13px;">语法</a> <a href="/tags/%E8%AF%BE%E7%A8%8B%E8%AE%BE%E8%AE%A1/" style="font-size: 13px;">课程设计</a> <a href="/tags/%E8%B8%A9%E5%9D%91/" style="font-size: 13px;">踩坑</a> <a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 13.4px;">面试</a> <a href="/tags/%E9%A1%B9%E7%9B%AE/" style="font-size: 13.6px;">项目</a>
    </div>
  </div>

    
      
  <div class="widget">
    <h3 class="widget-title">归档</h3>
    <div class="widget-body">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">八月 2021</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">七月 2021</a><span class="archive-list-count">18</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">六月 2021</a><span class="archive-list-count">7</span></li></ul>
    </div>
  </div>


    
      
  <div class="widget">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget-body">
      <ul class="recent-post-list list-unstyled ">
        
          <li>
            
            <div class="item-thumb">
              <a href="/2021/08/26/project-2021-08-26-EVENGOfNetwork/" class="thumb">
    
    
        <span class="thumb-image thumb-none"></span>
    
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E9%A1%B9%E7%9B%AE/">项目</a>
              </p>
              <p class="item-title">
                <a href="/2021/08/26/project-2021-08-26-EVENGOfNetwork/" class="title">EVE-NG仿真路由组网与交换机配置</a>
              </p>
              <p class="item-date">
                <time datetime="2021-08-26T05:40:34.000Z" itemprop="datePublished">2021-08-26</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-thumb">
              <a href="/2021/08/26/project-2021-08-26-windowsServerHyperV/" class="thumb">
    
    
        <span class="thumb-image thumb-none"></span>
    
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E9%A1%B9%E7%9B%AE/">项目</a>
              </p>
              <p class="item-title">
                <a href="/2021/08/26/project-2021-08-26-windowsServerHyperV/" class="title">基于windows server搭建的故障群集转移</a>
              </p>
              <p class="item-date">
                <time datetime="2021-08-26T05:31:28.000Z" itemprop="datePublished">2021-08-26</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-thumb">
              <a href="/2021/08/26/project-2021-08-26-dockerOfDeploy/" class="thumb">
    
    
        <span class="thumb-image thumb-none"></span>
    
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E9%A1%B9%E7%9B%AE/">项目</a>
              </p>
              <p class="item-title">
                <a href="/2021/08/26/project-2021-08-26-dockerOfDeploy/" class="title">docker实现企业服务负载均衡架构</a>
              </p>
              <p class="item-date">
                <time datetime="2021-08-26T05:31:04.000Z" itemprop="datePublished">2021-08-26</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-thumb">
              <a href="/2021/08/26/project-2021-08-26-PerceptionAndControl/" class="thumb">
    
    
        <span class="thumb-image thumb-none"></span>
    
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E9%A1%B9%E7%9B%AE/">项目</a>
              </p>
              <p class="item-title">
                <a href="/2021/08/26/project-2021-08-26-PerceptionAndControl/" class="title">感知与控制（快递柜）</a>
              </p>
              <p class="item-date">
                <time datetime="2021-08-26T05:29:47.000Z" itemprop="datePublished">2021-08-26</time>
              </p>
            </div>
          </li>
          
          <li>
            
            <div class="item-thumb">
              <a href="/2021/08/26/project-2021-08-26-androidAndIoT/" class="thumb">
    
    
        <span class="thumb-image thumb-none"></span>
    
</a>

            </div>
            
            <div class="item-inner">
              <p class="item-category">
                <a class="category-link" href="/categories/%E9%A1%B9%E7%9B%AE/">项目</a>
              </p>
              <p class="item-title">
                <a href="/2021/08/26/project-2021-08-26-androidAndIoT/" class="title">远程数据采集控制（android）</a>
              </p>
              <p class="item-date">
                <time datetime="2021-08-26T05:28:03.000Z" itemprop="datePublished">2021-08-26</time>
              </p>
            </div>
          </li>
          
      </ul>
    </div>
  </div>
  

    
  </div>
</aside>

  
  
<aside class="sidebar sidebar-toc collapse" id="collapseToc" itemscope itemtype="http://schema.org/WPSideBar">
  <div class="slimContent">
    <nav id="toc" class="article-toc">
      <h3 class="toc-title">文章目录</h3>
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%B4%E6%98%8E%EF%BC%9A"><span class="toc-number">1.</span> <span class="toc-text">说明：</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number"></span> <span class="toc-text">概述</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%8E%AF%E5%A2%83"><span class="toc-number">1.</span> <span class="toc-text">环境</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1"><span class="toc-number"></span> <span class="toc-text">设计</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87"><span class="toc-number">1.</span> <span class="toc-text">目标</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1%E6%96%B9%E6%A1%88"><span class="toc-number">2.</span> <span class="toc-text">设计方案</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80%E4%B8%8E%E5%B9%B3%E5%8F%B0"><span class="toc-number">2.1.</span> <span class="toc-text">编程语言与平台</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1%E5%8E%9F%E7%90%86"><span class="toc-number">2.2.</span> <span class="toc-text">设计原理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E9%9D%A0%E4%BC%A0%E8%BE%93"><span class="toc-number">2.3.</span> <span class="toc-text">可靠传输</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%B8%A7%E5%88%86%E6%9E%90"><span class="toc-number">2.3.1.</span> <span class="toc-text">数据帧分析</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%B8%A7%E5%AE%9A%E4%B9%89"><span class="toc-number">2.3.2.</span> <span class="toc-text">数据帧定义</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0"><span class="toc-number"></span> <span class="toc-text">实现</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%9F%E8%83%BD%E8%AE%BE%E8%AE%A1"><span class="toc-number">1.</span> <span class="toc-text">功能设计</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BF%A1%E6%81%AF%E9%87%87%E9%9B%86"><span class="toc-number">1.1.</span> <span class="toc-text">信息采集</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%BD%E5%B1%89%E7%9A%84%E6%8E%A7%E5%88%B6"><span class="toc-number">1.2.</span> <span class="toc-text">抽屉的控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%AF%E5%81%9C%E6%B8%A9%E5%BA%A6%E6%8E%A7%E5%88%B6"><span class="toc-number">1.3.</span> <span class="toc-text">启停温度控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E6%8E%A7%E5%88%B6%E6%B8%A9%E5%BA%A6"><span class="toc-number">1.4.</span> <span class="toc-text">设置控制温度</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E7%B3%BB%E7%BB%9F%E5%8F%82%E6%95%B0"><span class="toc-number">1.5.</span> <span class="toc-text">设置系统参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8A%98%E7%BA%BF%E5%9B%BE%E7%9A%84%E7%BB%98%E5%88%B6"><span class="toc-number">1.6.</span> <span class="toc-text">折线图的绘制</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%95%8C%E9%9D%A2%E8%AE%BE%E8%AE%A1"><span class="toc-number">2.</span> <span class="toc-text">界面设计</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%95%8C%E9%9D%A2%E5%B8%83%E5%B1%80"><span class="toc-number">2.1.</span> <span class="toc-text">界面布局</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%95%8C%E9%9D%A2%E7%BB%84%E4%BB%B6"><span class="toc-number">2.2.</span> <span class="toc-text">界面组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%83%A8%E5%88%86%E4%BB%A3%E7%A0%81"><span class="toc-number">2.3.</span> <span class="toc-text">部分代码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%AA%8C%E8%AF%81"><span class="toc-number">3.</span> <span class="toc-text">验证</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%BB%E7%BB%93"><span class="toc-number">4.</span> <span class="toc-text">总结</span></a></li></ol>
    </nav>
  </div>
</aside>

<main class="main" role="main">
  <div class="content">
  <article id="post-project-2021-08-26-PerceptionAndControl" class="article article-type-post" itemscope itemtype="http://schema.org/BlogPosting">
    
    <div class="article-header">
      
        
  
    <h1 class="article-title" itemprop="name">
      感知与控制（快递柜）
    </h1>
  

      
      <div class="article-meta">
        <span class="article-date">
    <i class="icon icon-calendar-check"></i>
	<a href="/2021/08/26/project-2021-08-26-PerceptionAndControl/" class="article-date">
	  <time datetime="2021-08-26T05:29:47.000Z" itemprop="datePublished">2021-08-26</time>
	</a>
</span>
        
  <span class="article-category">
    <i class="icon icon-folder"></i>
    <a class="article-category-link" href="/categories/%E9%A1%B9%E7%9B%AE/">项目</a>
  </span>

        
  <span class="article-tag">
    <i class="icon icon-tags"></i>
	<a class="article-tag-link-link" href="/tags/java/" rel="tag">java</a>, <a class="article-tag-link-link" href="/tags/%E9%A1%B9%E7%9B%AE/" rel="tag">项目</a>
  </span>


        
	<span class="article-read hidden-xs">
	    <i class="icon icon-eye-fill" aria-hidden="true"></i>
	    <span id="busuanzi_container_page_pv">
			<span id="busuanzi_value_page_pv">0</span>
		</span>
	</span>


        <span class="post-comment"><i class="icon icon-comment"></i> <a href="/2021/08/26/project-2021-08-26-PerceptionAndControl/#comments" class="article-comment-link">评论</a></span>
        
	
		<span class="post-wordcount hidden-xs" itemprop="wordCount">字数统计: 5.9k(字)</span>
	
	
		<span class="post-readcount hidden-xs" itemprop="timeRequired">阅读时长: 22(分)</span>
	

      </div>
    </div>
    <div class="article-entry marked-body" itemprop="articleBody">
      
        <h2 id="说明："><a href="#说明：" class="headerlink" title="说明："></a>说明：</h2><p>本项目截止日期：2020年7月12日</p>
<p>本项目为之前的学习实践内容整理，记录学习过程，仅供参考、学习。</p>
<p>备注：本项目由三人小组共同完成。</p>
<p>项目仓库：</p>
<h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><h2 id="环境"><a href="#环境" class="headerlink" title="环境"></a>环境</h2><p>windows 10</p>
<p>eclipse</p>
<p>串口通信助手</p>
<p>快递柜仿真软件</p>
<p>虚拟串口助手</p>
<p>jdk1.8</p>
<h1 id="设计"><a href="#设计" class="headerlink" title="设计"></a>设计</h1><h2 id="目标"><a href="#目标" class="headerlink" title="目标"></a>目标</h2><p>(1)理解快递柜控制板仿真软件的通信协议，并设计实现，进而实现与快递柜控制板仿真软件的通信(对于控制命令要考虑可靠传输)。</p>
<p>(2)实现对快递柜控制板状态数据的采集与显示，包括当前温度、控制温度、控制状态、10个抽屉的开关状态。</p>
<p>(3)实现对开关指定抽屉、启停温度控制(压缩机制冷控制)、设置控制温度、以及设置系统参数等设置操作。</p>
<p>(4)依据控制温度和压缩机的启停控制，实现对快递柜控制板温度的控制，控制精度为1度。</p>
<p>(5)以曲线方式显示1小时内的当前温度和设定温度的变化趋势。</p>
<h2 id="设计方案"><a href="#设计方案" class="headerlink" title="设计方案"></a>设计方案</h2><h3 id="编程语言与平台"><a href="#编程语言与平台" class="headerlink" title="编程语言与平台"></a>编程语言与平台</h3><p>语言: Java语言，java是一 种面向对象的高级语言，自问世以来，因其简单性、</p>
<p>面向对象、分布式、健壮性、安全性、平台独立与可移植性、多线程、动态性</p>
<p>等特点广受编程人员喜爱，eclipse则是一款官方推出的IDE。因为java的简单性和丰富的类库，所以选择java作为编程语言。通过导入RXTEcomm.jar类库来重写串口，设置相关功能函数。使用Bottom、JTextField 、Jlabel等组件来构建界面。</p>
<h3 id="设计原理"><a href="#设计原理" class="headerlink" title="设计原理"></a>设计原理</h3><p>（1）技术: RS232通信协议。RS-232是串行数据接口标准之一, 数据帧结构包括:信息头、帧长、帧号、设备地址、功能号、数据、校验、结束标志。具备传输距离短、速度较慢的特点，适合小型单片机开发，适合本项目使用。</p>
<p>波特率:这是一个衡量通信速度的参数，它表示每秒钟传送的bit的个数。本项目采用的波特率为38400。数据位:这是衡量通信中实际数据位的参数。本项目的数据位为8位。停止位:用于表示单个包的最后一位。本项目的停止位为1。奇偶校验位:在串口通信中一种简单的检错方式。有四种检错方式:偶、奇、高和低。本项目采用无校验。</p>
<p>（2）实现原理</p>
<p>采用RS232协议来进行串口通信，将快递柜和控制板的相关参数设置(串口号、波特率、数据位、校验位)好，建立快递柜和控制板的通信连接。将相关指令封装，把16进制的指令进行封装，避免输入过长的16进制指令，精简使用流程。采用图形界面进行操作，构建便捷的界面，将封装好的指令与按钮相关联，通过按钮发送相关指令。实现对快递柜的控制。</p>
<p>将整个项目划分为3个部分:由图像界面组成的操作界面，通信部分来实现具体通信功能。通信部分又分为数据接受和数据发送，串口之间进行通信时，将数据存储在一一个缓存区域内，若是发送指令，则将指令编码写入缓存区域，将缓存区域的数据通过串口发送给快递柜。从快递柜收到的消息也存储在缓存区域，然后将数据解析，从中找到需要的字段，再进行转换，输出到界面，实现实时显示快递柜信息的功能。</p>
<h3 id="可靠传输"><a href="#可靠传输" class="headerlink" title="可靠传输"></a>可靠传输</h3><p>如果接收端，收到一帧数据，经过CRC校验，数据正确，这时得传一帧简易的应答帧，以告诉主机，这个帧接收成功。如果接收端，收到一帧数据，经过CRC校验，发现数据有错，这时得传一帧简易的重传帧，以请求重传。</p>
<h4 id="数据帧分析"><a href="#数据帧分析" class="headerlink" title="数据帧分析"></a>数据帧分析</h4><p>数据帧格式</p>
<p><img src="/2021/08/26/project-2021-08-26-PerceptionAndControl/clip_image002-1629988011617.jpg" alt="img"></p>
<p>帧号：取值范围1-255。</p>
<p>帧长：为每个物理帧的实际长度，取值为10-256。</p>
<p>设备地址：1字节，控制板地址为1-120。</p>
<h4 id="数据帧定义"><a href="#数据帧定义" class="headerlink" title="数据帧定义"></a>数据帧定义</h4><p>（1）查询帧</p>
<p>查询帧帧长10字节，帧号n，设备地址是控制板的地址1-120，功能号01，数据0B为NULL，每间隔5秒定期对每块控制板发送一次查询帧。</p>
<p>（2）启停压缩机控制帧</p>
<p>启停压缩机控制帧对压缩机进行启停控制，帧长11字节，帧号为n，功能号02，设备地址1-120，数据部分01代表压缩机启动，00代表压缩机停止。</p>
<p>（3）开锁帧</p>
<p>开锁帧负责对快递柜指定抽屉的开关控制，帧长12字节，帧号n，设备地址是1-120，功能号为03，数据部分为2字节，其中0th-11th,表示对应的锁的状态，1代表开，0代表关。首先，我们将某- -所需数据转换成2进制， 利用字符串的加操作完成对每一位的判断，之后会获得两个字符串， 对它们进行进制转换，将其转换成两位16进制数，我们就可以通过指定格式完成帧的组成。</p>
<p>（4）设置温度帧</p>
<p>设置温度帧对温度进行设置，帧长11字节，帧号n，设备地址是1-120，功能号为04，数据部分为设定的温度值，7th:0代表非负数，1代表负数，1th-6th表示温度整数部分0-63，0th表示温度小数部分，存在0.5，0，1代表0.5，0代表0。在文本框中输入设定温度后，获得一字符串，依次检测其符号和字符串长度，注意最后剩余整数部分要通过十进制转2进制完成并在前位补0凑齐六位，加之首尾各-位完成8位2进制， 通过进制转换得到16进制数。</p>
<p>（5）设置参数帧</p>
<p>参数帧负责控制板参数，帧长28字节，帧号n，设备地址是OX75，功能号为05，参数部分18字节，参数具体见下图。</p>
<p><img src="/2021/08/26/project-2021-08-26-PerceptionAndControl/image-20210826222757994.png" alt="image-20210826222757994"></p>
<p>（1）设置温度控制偏差帧</p>
<p>设置温度温度偏差帧帧长11字节，帧号n，设备地址是1-120，功能号为06，数据部分1字节，设定温度控制偏差，数据按终端控制板参数表中的格式定义参数。</p>
<p>（2）设置设备地址帧</p>
<p>设置设备地址帧帧长16字节，帧号n，设备地址是OX7F，功能号为09，数据部分6字节，5字节设备编码和1字节新地址。</p>
<p>（3）上传状态帧</p>
<p>上传状态帧帧长16字节，帧号n，设备地址是OX7F，功能号为10，数据部分6字节，数据部分34字节，参数是终端控制板的当前参数，18字节参数和16字节状态，控制板参数见图，控制板状态参数具体见下图。</p>
<p><img src="/2021/08/26/project-2021-08-26-PerceptionAndControl/image-20210826222836005.png" alt="image-20210826222836005"></p>
<p>（9）ACK帧</p>
<p>ACK帧帧长14字节，帧号n，设备地址是0，功能号应答的功能号，数据部分6字节，数据部分4字节，1字节设备地址，1字节命令帧号，2字节数据，数据用于执行开锁命令后表示相应锁是否打开，对应位1表示打开，否则打开失败。可靠传输采用重传机制，若在一定时间段内收不到相应功能号的ACK，则重新传送。</p>
<h1 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h1><h2 id="功能设计"><a href="#功能设计" class="headerlink" title="功能设计"></a>功能设计</h2><h3 id="信息采集"><a href="#信息采集" class="headerlink" title="信息采集"></a>信息采集</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">getTemperature_gather</span><span class="params">()</span> </span>&#123;<span class="comment">/*采集温度*/</span></span><br><span class="line">    	</span><br><span class="line">       String str=FormatConverter.byteToHexStr(temperature_gather);</span><br><span class="line">       <span class="keyword">int</span> i1= Integer.parseInt(String.valueOf(str.charAt(<span class="number">0</span>)),<span class="number">16</span>);</span><br><span class="line">       <span class="keyword">int</span> i2=Integer.parseInt(String.valueOf(str.charAt(<span class="number">1</span>)),<span class="number">16</span>);</span><br><span class="line">       <span class="keyword">int</span> ii1[];</span><br><span class="line">        ii1=<span class="keyword">new</span> <span class="keyword">int</span> [<span class="number">8</span>];</span><br><span class="line">       <span class="keyword">for</span>(<span class="keyword">int</span> n=<span class="number">0</span>;n&lt;<span class="number">4</span>;n++)</span><br><span class="line">       &#123;</span><br><span class="line">    	   ii1[n]=i1%<span class="number">2</span>;</span><br><span class="line">           i1=i1/<span class="number">2</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">for</span>(<span class="keyword">int</span> n=<span class="number">4</span>;n&lt;<span class="number">8</span>;n++)</span><br><span class="line">       &#123;</span><br><span class="line">    	   ii1[n]=i2%<span class="number">2</span>;</span><br><span class="line">           i2=i2/<span class="number">2</span>;</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">double</span> x=ii1[<span class="number">5</span>]*<span class="number">1</span>+ii1[<span class="number">6</span>]*<span class="number">2</span>+ii1[<span class="number">7</span>]*<span class="number">4</span>+ii1[<span class="number">0</span>]*<span class="number">8</span>+ii1[<span class="number">1</span>]*<span class="number">16</span>+ii1[<span class="number">2</span>]*<span class="number">32</span>;</span><br><span class="line">       <span class="keyword">if</span>(ii1[<span class="number">4</span>]==<span class="number">1</span>)</span><br><span class="line">    	   x=x+<span class="number">0.5</span>;</span><br><span class="line">      </span><br><span class="line">    	 </span><br><span class="line">         <span class="keyword">if</span>(ii1[<span class="number">3</span>]==<span class="number">1</span>)</span><br><span class="line">        	x=x*(-<span class="number">1</span>);</span><br><span class="line">       </span><br><span class="line">    	<span class="keyword">return</span> x;</span><br><span class="line">    &#125;   </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getMachine_state</span><span class="params">()</span> </span>&#123;<span class="comment">/*机器状态*/</span></span><br><span class="line">    	String str=FormatConverter.byteToHexStr(machine_state);</span><br><span class="line">    	 <span class="keyword">int</span> i=Integer.parseInt(str,<span class="number">16</span>);</span><br><span class="line">    	<span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="抽屉的控制"><a href="#抽屉的控制" class="headerlink" title="抽屉的控制"></a>抽屉的控制</h3><p>设置10个按钮分别控制10个抽屉，点击按钮改变对应的开关位，抽屉控制将需要控制的抽屉编号加入列表，传参到对应函数。函数经过提取，将列表中出现的抽屉对应位置1.以此类推转化为对应的二进制数字，再转化为十六进制，加入到对应命令帧的数据位，CRC填充完发送。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">button.setPreferredSize(<span class="keyword">new</span> Dimension(<span class="number">150</span>, <span class="number">40</span>));</span><br><span class="line">            add(button);</span><br><span class="line">            setVisible(<span class="keyword">true</span>);</span><br><span class="line">            button.addActionListener(<span class="keyword">new</span> ActionListener() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span> </span>&#123;</span><br><span class="line">                	command=<span class="string">&quot;&quot;</span>;</span><br><span class="line">                    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">10</span>;i++) &#123;</span><br><span class="line">                        <span class="keyword">if</span>(checkBox[i].isSelected()) &#123;</span><br><span class="line">                        	checkBox1[i].setSelected(<span class="keyword">true</span>);</span><br><span class="line">                            command+=checkBox[i].getText();</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                    String regEx=<span class="string">&quot;[^0-9]&quot;</span>;</span><br><span class="line">                    Pattern p = Pattern.compile(regEx);</span><br><span class="line">                    Matcher m = p.matcher(command);</span><br><span class="line">                    command=m.replaceAll(<span class="string">&quot;&quot;</span>).trim();</span><br><span class="line">                    System.out.println(command);</span><br><span class="line">                    <span class="keyword">long</span> sum=<span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;command.length();i++)</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="keyword">char</span> s=command.charAt(i);</span><br><span class="line">                        System.out.println(s);</span><br><span class="line">                        <span class="keyword">switch</span>(s)</span><br><span class="line">                        &#123;</span><br><span class="line">                           </span><br><span class="line">                            <span class="keyword">case</span> <span class="string">&#x27;1&#x27;</span>:  <span class="keyword">if</span>((command.length()==<span class="number">1</span>)||command.charAt(i+<span class="number">1</span>)!=<span class="string">&#x27;0&#x27;</span>)sum+=<span class="number">256</span>;<span class="keyword">else</span> sum+=<span class="number">2</span>;<span class="keyword">break</span>;</span><br><span class="line">                            <span class="keyword">case</span> <span class="string">&#x27;2&#x27;</span>:sum+=<span class="number">512</span>;<span class="keyword">break</span>;</span><br><span class="line">                            <span class="keyword">case</span> <span class="string">&#x27;3&#x27;</span>:sum+=<span class="number">1024</span>;<span class="keyword">break</span>;</span><br><span class="line">                            <span class="keyword">case</span> <span class="string">&#x27;4&#x27;</span>:sum+=<span class="number">2048</span>;<span class="keyword">break</span>;</span><br><span class="line">                            <span class="keyword">case</span> <span class="string">&#x27;5&#x27;</span>:sum+=<span class="number">4096</span>;<span class="keyword">break</span>;</span><br><span class="line">                            <span class="keyword">case</span> <span class="string">&#x27;6&#x27;</span>:sum+=<span class="number">8192</span>;<span class="keyword">break</span>;</span><br><span class="line">                            <span class="keyword">case</span> <span class="string">&#x27;7&#x27;</span>:sum+=<span class="number">16384</span>;<span class="keyword">break</span>;</span><br><span class="line">                            <span class="keyword">case</span> <span class="string">&#x27;8&#x27;</span>:sum+=<span class="number">32768</span>;<span class="keyword">break</span>;</span><br><span class="line">                            <span class="keyword">case</span> <span class="string">&#x27;9&#x27;</span>:sum+=<span class="number">1</span>;<span class="keyword">break</span>;</span><br><span class="line">                            <span class="keyword">default</span>:<span class="keyword">break</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="启停温度控制"><a href="#启停温度控制" class="headerlink" title="启停温度控制"></a>启停温度控制</h3><p>启停压缩机根据之前的数据分析结果，利用数据位的00和01进行压缩机的控制。启动压缩机需要考虑和温度偏差范围的配合。高于则停止，低于则运行。只有启动了温度控制，才会对接收到的实时温度进行判断是否达标(设置温度+-偏差值)，进而发送控制帧控制压缩机的停止启动。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(button2.getText().equals(<span class="string">&quot;启动温度控制&quot;</span>))	&#123;</span><br><span class="line">                        button2.setBackground(Color.CYAN);</span><br><span class="line">                        button2.setText(<span class="string">&quot;停止温度控制&quot;</span>);</span><br><span class="line">                        command=<span class="string">&quot;01&quot;</span>;</span><br><span class="line">                        createFrame(<span class="number">2</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">else</span> &#123;</span><br><span class="line">                        button2.setBackground(Color.RED);</span><br><span class="line">                        button2.setText(<span class="string">&quot;启动温度控制&quot;</span>);</span><br><span class="line">                        command=<span class="string">&quot;00&quot;</span>;</span><br><span class="line">                        createFrame(<span class="number">2</span>);<span class="comment">/*启停压缩机指令*/</span>&#125;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="设置控制温度"><a href="#设置控制温度" class="headerlink" title="设置控制温度"></a>设置控制温度</h3><p>在Textbox组件输入温度，点击按钮，设定中当温度控制系统处于开启状态，若检测到温度低于设定，则停止压缩机，若检测到温度高于设定，则打开压缩机，但此时压缩机会有预启动状态，所以在其预启动与启动状态不发送打开压缩机命令。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span> </span>&#123;</span><br><span class="line">                	String Tem=textField.getText();</span><br><span class="line">                    dispose();</span><br><span class="line">                    <span class="keyword">float</span> tem=Float.parseFloat(Tem);</span><br><span class="line">                    <span class="keyword">int</span> t=(<span class="keyword">int</span>)tem;</span><br><span class="line">                    String s = Integer.toString(t);</span><br><span class="line">                    textField2.setText(s);</span><br><span class="line">                    <span class="keyword">boolean</span> flag=<span class="keyword">false</span>;</span><br><span class="line">                    t=t*<span class="number">2</span>;</span><br><span class="line">                       <span class="keyword">if</span>(tem&lt;<span class="number">0</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                    	t=t*(-<span class="number">1</span>);</span><br><span class="line">                    	 t=t+<span class="number">128</span>;</span><br><span class="line">                     <span class="comment">//   t=t+1;</span></span><br><span class="line">                    &#125;</span><br><span class="line">                    </span><br><span class="line">                    <span class="keyword">if</span>((tem%<span class="number">1</span>)==<span class="number">0.5</span>)</span><br><span class="line">                    &#123;</span><br><span class="line">                        </span><br><span class="line">                        t=t+<span class="number">1</span>;</span><br><span class="line">                        flag=<span class="keyword">true</span>;</span><br><span class="line">                        </span><br><span class="line">                    &#125;                       </span><br><span class="line">                    <span class="keyword">if</span>(t&lt;<span class="number">15</span>) &#123;</span><br><span class="line">                        command=<span class="string">&quot;0&quot;</span>+Integer.toHexString((<span class="keyword">int</span>)t);</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        command=Integer.toHexString((<span class="keyword">int</span>)t);</span><br><span class="line">                    &#125;</span><br><span class="line">                    command=command.toUpperCase();</span><br><span class="line">                    System.out.println(tem);</span><br><span class="line">                    System.out.println(<span class="string">&quot;设置温度command= &quot;</span>+command); </span><br><span class="line">                    downQueue.add(<span class="keyword">new</span> SetTemperatureFrame(sequence++,deviceAddress,FormatConverter.hexStringToBytes(command)[<span class="number">0</span>]));<span class="comment">/*设置温度*/</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="设置系统参数"><a href="#设置系统参数" class="headerlink" title="设置系统参数"></a>设置系统参数</h3><p>参数控制包括温度，温度偏差，设备地址，压缩机预启动时间等处理方法类似。将输入的十进制数字转化为十六进制，加入到对应命令帧的数据位，CRC填充完发送。点击按钮弹出参数设置窗口， 允许不做任何输入或只设置部分参数，</p>
<p>不输入会默认发送上次设置的参数，如果是第一次则发送缺省值。对于组帧，要先得到文本框内字符串、先转2进制，再转16进制，组成相应帧即可。系统参数帧会有缺省情况，因此在文本框输入字符串中若为空，则使用相应缺省数据填充该位。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line">enter.addActionListener(<span class="keyword">new</span> ActionListener() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">actionPerformed</span><span class="params">(ActionEvent e)</span> </span>&#123;</span><br><span class="line">                	String[] str=<span class="keyword">new</span> String[<span class="number">6</span>];</span><br><span class="line">                	command=<span class="string">&quot;&quot;</span>;</span><br><span class="line">                	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="number">6</span>;i++) &#123;</span><br><span class="line">                		</span><br><span class="line">                		<span class="keyword">if</span>(i==<span class="number">0</span>)<span class="comment">//设备编码</span></span><br><span class="line">                			&#123;</span><br><span class="line">                				<span class="keyword">for</span>(<span class="keyword">int</span> j=textField[i].getText().length();j&lt;<span class="number">10</span>;j++)</span><br><span class="line"></span><br><span class="line">                					command+=<span class="string">&quot;F&quot;</span>;</span><br><span class="line">                				command+=textField[i].getText();</span><br><span class="line">                			&#125;	</span><br><span class="line">                    </span><br><span class="line">                    	<span class="keyword">if</span>(i==<span class="number">1</span>)<span class="comment">//设备地址</span></span><br><span class="line">                    		command+=textField[i].getText();</span><br><span class="line">                    	<span class="keyword">if</span>(i==<span class="number">2</span>)<span class="comment">//上传间隔</span></span><br><span class="line">                    	&#123;</span><br><span class="line">                    		command+=<span class="string">&quot;00&quot;</span>;<span class="comment">//备用空白帧</span></span><br><span class="line">                    		command+=textField[i].getText();</span><br><span class="line">                    		&#125;</span><br><span class="line">                    	<span class="keyword">if</span>(i==<span class="number">3</span>)<span class="comment">//启动时延</span></span><br><span class="line">                		&#123;</span><br><span class="line">                    	String tem=textField[i].getText();</span><br><span class="line">                    	<span class="keyword">int</span> mn=Integer.parseInt(tem);</span><br><span class="line">                    	String hexs=<span class="keyword">new</span> String();</span><br><span class="line">                    	<span class="keyword">if</span>(mn&gt;<span class="number">15</span>)</span><br><span class="line">                    	hexs =FormatConverter.intToHex(mn);</span><br><span class="line">                    	<span class="keyword">else</span></span><br><span class="line">                    		 hexs=<span class="string">&quot;0&quot;</span>+FormatConverter.intToHex(mn);</span><br><span class="line">                    	</span><br><span class="line">                		command+=hexs;</span><br><span class="line">                		command+=<span class="string">&quot;0000&quot;</span>;<span class="comment">//备用</span></span><br><span class="line">                		&#125;</span><br><span class="line">                    	<span class="keyword">if</span>(i==<span class="number">4</span>)<span class="comment">//设定温度</span></span><br><span class="line">                		&#123;</span><br><span class="line">                    	</span><br><span class="line">                    		String Tem=textField[i].getText();</span><br><span class="line">                            dispose();</span><br><span class="line">                            String s=<span class="keyword">new</span> String();</span><br><span class="line">                            <span class="keyword">float</span> tem=Float.parseFloat(Tem);</span><br><span class="line">                            <span class="keyword">int</span> t=(<span class="keyword">int</span>)tem;</span><br><span class="line">                            <span class="keyword">boolean</span> flag=<span class="keyword">false</span>;</span><br><span class="line">                            t=t*<span class="number">2</span>;</span><br><span class="line">                               <span class="keyword">if</span>(tem&lt;<span class="number">0</span>)</span><br><span class="line">                            &#123;</span><br><span class="line">                            	t=t*(-<span class="number">1</span>);</span><br><span class="line">                            	 t=t+<span class="number">128</span>;</span><br><span class="line">                             <span class="comment">//   t=t+1;</span></span><br><span class="line">                            &#125;</span><br><span class="line">                            </span><br><span class="line">                            <span class="keyword">if</span>((tem%<span class="number">1</span>)==<span class="number">0.5</span>)</span><br><span class="line">                            &#123;</span><br><span class="line">                                </span><br><span class="line">                                t=t+<span class="number">1</span>;</span><br><span class="line">                                flag=<span class="keyword">true</span>;</span><br><span class="line">                                </span><br><span class="line">                            &#125;</span><br><span class="line">                                              </span><br><span class="line">                        </span><br><span class="line">                            <span class="keyword">if</span>(t&lt;<span class="number">15</span>) &#123;</span><br><span class="line">                                s=<span class="string">&quot;0&quot;</span>+Integer.toHexString((<span class="keyword">int</span>)t);</span><br><span class="line">                            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                                s=Integer.toHexString((<span class="keyword">int</span>)t);</span><br><span class="line">                            &#125;</span><br><span class="line">                           s=s.toUpperCase();</span><br><span class="line">                    		</span><br><span class="line">                		command+=s;</span><br><span class="line">                		</span><br><span class="line">                		&#125;</span><br><span class="line">                    	<span class="keyword">if</span>(i==<span class="number">5</span>)<span class="comment">//温度控制偏差</span></span><br><span class="line">                		&#123;</span><br><span class="line">                		command+=textField[i].getText();</span><br><span class="line">                		command+=<span class="string">&quot;FFFFFFFF00&quot;</span>;</span><br><span class="line">                		&#125;        </span><br><span class="line">                    	</span><br><span class="line">                		</span><br><span class="line">                		<span class="comment">//command+=textField[i].getText();</span></span><br><span class="line">                    &#125;</span><br><span class="line">                    System.out.println(<span class="string">&quot;设置参数command= &quot;</span>+command);   </span><br><span class="line">                 dispose();</span><br><span class="line">                 downQueue.add(<span class="keyword">new</span> SetParameterFrame(sequence++,deviceAddress,FormatConverter.hexStringToBytes(command)));<span class="comment">/*设置参数*/</span></span><br><span class="line">                   <span class="comment">//  	createFrame(5);</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="折线图的绘制"><a href="#折线图的绘制" class="headerlink" title="折线图的绘制"></a>折线图的绘制</h3><p>创建CategoryDataset对象（准备数据）。</p>
<p>根据Dataset 生成JFreeChart对象，以及做相应的设置。</p>
<p>根据CategoryDataset创建JFreeChart对象。</p>
<p>将仿真软件发送的数据放入内存，实现一个循环数组接受数据，</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (values.size() &gt; MAX_COUNT_OF_VALUES) &#123;</span><br><span class="line">			values.remove(<span class="number">0</span>);</span><br><span class="line">		&#125;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length - <span class="number">1</span>; ++i) &#123;</span><br><span class="line">			g2d.drawLine(xDelta * (MAX_COUNT_OF_VALUES - length + i), normalizeValueForYAxis(values.get(i), h),</span><br><span class="line">					xDelta * (MAX_COUNT_OF_VALUES - length + i + <span class="number">1</span>), normalizeValueForYAxis(values.get(i + <span class="number">1</span>), h));</span><br><span class="line">		&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="界面设计"><a href="#界面设计" class="headerlink" title="界面设计"></a>界面设计</h2><h3 id="界面布局"><a href="#界面布局" class="headerlink" title="界面布局"></a>界面布局</h3><p>1)、流布局：</p>
<p>　　FlowLayout 从左到右，自上而下方式在容器中排列，控件的大小不会随容器大小变化.</p>
<p>  容器.setLayout(new FlowLayout(FlowLayout.LEFT));</p>
<p>2)、网格布局：</p>
<p>　　GridLayout 按照指定行数与列数，将容器分成大小相等的单元格每个单元格放置一个控件. 不能将控件放在指定单元格</p>
<p>  容器.setLayout(new GridLayout(3,4,10,15));</p>
<p>3)、边界布局:</p>
<p>　　BorderLayout 将容器分成东、西、南、北、中五个部分</p>
<p>  容器.setLayout(new BorderLayout());</p>
<p>　　窗口的内容面板默认布局就是边界布局。</p>
<p>容器.add(控件,BorderLayout.NORTH);</p>
<h3 id="界面组件"><a href="#界面组件" class="headerlink" title="界面组件"></a>界面组件</h3><p>文本框：使用JComponent的子类JTextField创建文本框。文本框的允许用户输入单行文本。</p>
<p>文本区：使用JComponent的子类JButton类创建按钮，允许用户单击按钮。</p>
<p>标签：使用JComponent的子类JLabel类创建标签，标签为用户提供信息提示。</p>
<p>选择框：使用JComponent的子类JCheckBox类来创建选择框，为用户提供多项悬着。选择框提供两种状态，选中和未选中，用户通过单击该组件切换状态。</p>
<p>单选按钮:使用JComponent的子类的JRadioButton类创建单项选择框，为用户提供单项选择。</p>
<p>下拉列表:使用JComponent的子类的JComboBox类来创建下拉列表，为用户提供下拉列表。</p>
<h3 id="部分代码"><a href="#部分代码" class="headerlink" title="部分代码"></a>部分代码</h3><p>public class Win extends JFrame {}建立窗体类。</p>
<p>private JLabel[] label;声明标签组</p>
<p>public JCheckBox[] checkBox1;</p>
<p>建立三个 JTextField类型变量，textField1文本框显示当前温度，textField2文本框显示设置温度，textField3文本框显示压缩机状态。</p>
<p>Piblic Win{}来设置布局和边界布局new BorderLayout()，设置窗口的长宽高setBounds(100,50,800, 650)， 设置标题setTitle(“现场快递柜状态采集与控制系统”);</p>
<p>private class Top extends JPanel{}来设置顶部布局，建立三个标签，分别表示当前温度，设定温度，工作状态，再进行设置边界。</p>
<p> public class center extends JPanel {}来设置界面中的抽屉组，建立十个抽屉。规定他们的位置。</p>
<p>private class Bottom extends JPanel{}来设置界面底部的四个按钮以及功能的实现，就是课设要实现的四个功能，开关指定抽屉，启动温度控制，设置控制温度，设置系统参数。</p>
<p> button.addActionListener（new ActionListener()）来进行事件的监听，实现根据用户的操作来执行相应功能。</p>
<p>JFreeChart jfreechart = ChartFactory.createLineChart()来进行折线图标题，x轴，Y轴标签的显示。</p>
<p>使用CategoryPlot设置各种参数。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">CategoryPlot plot = (CategoryPlot)jfreechart.getPlot();</span><br><span class="line">renderer.setBaseShapesVisible(true); // series 点（即数据点）可见  </span><br><span class="line">renderer.setBaseLinesVisible(true); // series 点（即数据点）间有连线可见  </span><br><span class="line">renderer.setUseSeriesOffset(true); // 设置偏移量  </span><br><span class="line">public void paintComponent(Graphics g) &#123;&#125;折线图的绘制。</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="验证"><a href="#验证" class="headerlink" title="验证"></a>验证</h2><p>首先启动程序，可以看到虚拟串口软件中的com2已连接上，然后开启快递柜仿真程序，可以在虚拟串口软件中看到com1和com2都已连接，在eclipse控制台中也可以看到串口启动成功，接着在快递柜仿真软件数据包显示区和eclipse控制台也可以看到不断接受和发送数据帧，说明两者成功连接，可以通信，接着检验是否能正确通信和功能是否完全实现。</p>
<p><img src="/2021/08/26/project-2021-08-26-PerceptionAndControl/image-20210826223310668.png" alt="image-20210826223310668"></p>
<p>首先测试打开关闭抽屉功能，在采集与控制程序中打开7号和8号抽屉，可以在快递柜程序中看见两个抽屉正确打开，再实验其他抽屉，所有抽屉都能准确打开和关闭，快递柜抽屉开关功能完全实现。</p>
<p><img src="/2021/08/26/project-2021-08-26-PerceptionAndControl/image-20210826223321137.png" alt="image-20210826223321137"></p>
<p>信息采集与显示功能也正确实现，可以看到快递柜的当前温度和压缩机状态抽屉开关状态在采集与控制系统中都进行了正确显示，两者同步。</p>
<p><img src="/2021/08/26/project-2021-08-26-PerceptionAndControl/image-20210826223333304.png" alt="image-20210826223333304"></p>
<p>接着来测试参数控制功能，我们可以观察到，启动程序后快递柜仿真程序系统参数部分已经显示了数据，这是在采集与控制系统中默认的数据，接下来我们进行修改，观察能否正确传给快递柜仿真程序，先在采集与控制系统中点击系统参数设置按钮，在弹出来的框中输入参数数据，包括设备ID，设备地址，采集时间间隔，压缩机启动延时，控制温度等，上传参数后可以观察到快递柜仿真软件参数部分发生了改变，与我们上传的参数相同，所以参数控制功能也正确实现。</p>
<p><img src="/2021/08/26/project-2021-08-26-PerceptionAndControl/image-20210826223345387.png" alt="image-20210826223345387"></p>
<p><img src="/2021/08/26/project-2021-08-26-PerceptionAndControl/image-20210826223350784.png" alt="image-20210826223350784"></p>
<p>然后进行温度控制功能测试，首先我们在采集与控制系统中设置控制温度为15度，然后上传，可以看到信息进行更新，控制温度由原先默认的20度变为了15度，然后可以观察到快递柜仿真软件当前温度为20.5度，压缩机进行启动，温度在下降，因为参数中温度偏差设置为3度，所以在温度下降到12度时，压缩机停止工作，温度上升，上升到18度时，压缩机开始工作，可以看到温度在控制温度周围上下拨动，温度控制功能实现。</p>
<p><img src="/2021/08/26/project-2021-08-26-PerceptionAndControl/image-20210826223403439.png" alt="image-20210826223403439"></p>
<p><img src="/2021/08/26/project-2021-08-26-PerceptionAndControl/image-20210826223409272.png" alt="image-20210826223409272"></p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>本次课程设计主题是感知与控制，要求掌握基于RS232的协议设计与通信方法，在此基础上实现对现场设备状态数据的采集、对设备的控制。老师给出的题目是针对快递柜系统设计实现一个对现场快递柜状态数据采集、显示、参数设置、抽屉打开、保鲜控制等功能软件系统。</p>
<p>我们小组有三位成员，首先对题目进行了讨论，制定了初步课设计划，对每个人的任务进行大致分工，主要是通信实现，界面设计，数据帧分析，可靠传输的保证，ppt答辩等方面。我们共同完成了数据帧分析，然后各自负责实现某些功能，例如抽屉开关、温度控制、参数控制等，最后由组长进行整合，完成整个代码的实现。我们小组使用的语言是Java语言，可以调用类库来进行编程，减少了我们的工作量，利用的平台是eclipse，我们基本实现了通过控制面板对快递柜操作的控制，将指令封装后，通过点击按钮实现指令的发送，包括了相应的抽屉的开关、温度控制、温度设置等功能。但是还有许多不足之处，由于时间紧任务重，我们小组成员的编程能力和学习能力有限，界面有待优化，在温度曲线的输出功能方面没有完全实现，在实时上传数据并绘制成图没有成功，只做出了一个模拟图来进行输出，程序还有待完善，在课设结束后，我们还会继续讨论学习，争取实现其功能，还存在一些小细节问题有待处理，存在一些bug，例如有时候数据帧丢失，无法发送成功，还需要进一步去改进程序。</p>
<p>  从本次课程设计中，我们小组学习了基于RS232的协议设计与通信方法，了解了现场网感知与控制的基本方法，锻炼了自己的思考能力和编程能力，之前也没接触过这些知识，我们都很陌生，在十天的学习里，我们一边百度自学以及向老师同学请教，一边积极讨论，各抒己见，很大方面提高了自己的学习能力和团队协助能力，为日后学习和工作积累了项目经验。从本次课设中，我们也深刻体会到了自己编程能力还是很弱，刚开始一头雾水，先采用c++来写程序，但是遇到了很多问题，首先就是我们没用过MFC，在学习过程中也感觉很难，甚至通信有的时候都不能成功，压力很大。经过我们后来的讨论研究后组长决定使用Java语言，因为他比较擅长Java，而且在大二学年我们刚学Java，并且使用Java语言做过项目，对Java界面设计，类库调用还是比较熟悉，确定方向后我们开始奋力苦干，小组成员每天汇报进程，以及讨论所遇到的问题，积极想办法去解决，功夫不负有心人，我们最后程序大致完成了，虽然还有很多改善的地方，但是还是做出了一个成果。经过这次课设，我们感受到了编程的有趣，利用所学的知识进行编程去实际解决问题，感觉很美妙，很快乐。</p>
<p> 虽然课程设计结束了，但是学习不能结束，我们从本次课设中学习到了很多，这次课设也给了我们三个人一个警醒，让我们清醒了一下，明白了自己的水平在哪里，知道了自己和专业佼佼者的差距，在观看答辩过程中也见到了很多大佬的程序，五花八门，大开眼界，别人不仅完成课设还进行创新实践，成果非常棒，对比之下，我们感到很大压力，毕竟我们已经大二结束了，不考研的话，马上要找工作实习了，编程能力还急需提高，课设结束后就是暑假，经过这次对我们来说磕磕绊绊困难重重的课设，相信我们在暑假里也不敢放纵自我，每天沉浸于王者峡谷，在之后的日子里我们定当沉下心来，踏踏实实学习，多思考，多研究，提升自己的水平，不浪费自己的宝贵时间，成为一个优秀的大学生。</p>

      
    </div>
    <div class="article-footer">
      <blockquote class="mt-2x">
  <ul class="post-copyright list-unstyled">
    
    <li class="post-copyright-link hidden-xs">
      <strong>本文链接：</strong>
      <a href="http://stary2020.gitee.io/2021/08/26/project-2021-08-26-PerceptionAndControl/" title="感知与控制（快递柜）" target="_blank" rel="external">http://stary2020.gitee.io/2021/08/26/project-2021-08-26-PerceptionAndControl/</a>
    </li>
    
    <li class="post-copyright-license">
      <strong>版权声明： </strong> 本博客所有文章除特别声明外，均采用 <a href="http://creativecommons.org/licenses/by/4.0/deed.zh" target="_blank" rel="external">CC BY 4.0 CN协议</a> 许可协议。转载请注明出处！
    </li>
  </ul>
</blockquote>


<div class="panel panel-default panel-badger">
  <div class="panel-body">
    <figure class="media">
      <div class="media-left">
        <a href="https://stary1999.github.io" target="_blank" class="img-burn thumb-sm visible-lg">
          <img src="/images/avatar.jpg" class="img-rounded w-full" alt="">
        </a>
      </div>
      <div class="media-body">
        <h3 class="media-heading"><a href="https://stary1999.github.io" target="_blank"><span class="text-dark">stary</span><small class="ml-1x">愿启明星照亮信仰，照进现实</small></a></h3>
        <div>成长中的程序员，半个极客，伪文艺青年</div>
      </div>
    </figure>
  </div>
</div>


    </div>
  </article>
  
    
  <section id="comments">
  	
      <div id="vcomments"></div>
    
  </section>


  
</div>

  <nav class="bar bar-footer clearfix" data-stick-bottom>
  <div class="bar-inner">
  
  <ul class="pager pull-left">
    
    <li class="prev">
      <a href="/2021/08/26/project-2021-08-26-dockerOfDeploy/" title="docker实现企业服务负载均衡架构"><i class="icon icon-angle-left" aria-hidden="true"></i><span>&nbsp;&nbsp;上一篇</span></a>
    </li>
    
    
    <li class="next">
      <a href="/2021/08/26/project-2021-08-26-androidAndIoT/" title="远程数据采集控制（android）"><span>下一篇&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden="true"></i></a>
    </li>
    
    
    <li class="toggle-toc">
      <a class="toggle-btn collapsed" data-toggle="collapse" href="#collapseToc" aria-expanded="false" title="文章目录" role="button">
        <span>[&nbsp;</span><span>文章目录</span>
        <i class="text-collapsed icon icon-anchor"></i>
        <i class="text-in icon icon-close"></i>
        <span>]</span>
      </a>
    </li>
    
  </ul>
  
  
  
  <div class="bar-right">
    
  </div>
  </div>
</nav>
  


</main>

  <footer class="footer" itemscope itemtype="http://schema.org/WPFooter">
	
	
    <ul class="social-links">
    	
        <li><a href="https://github.com/stary" target="_blank" title="Github" data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li>
        
        <li><a href="/atom.xml" target="_blank" title="Rss" data-toggle=tooltip data-placement=top><i class="icon icon-rss"></i></a></li>
        
    </ul>

    <div class="copyright">
    	
        &copy; 2021 stary
        
        <div class="publishby">
        	Theme by <a href="https://github.com/cofess" target="_blank"> cofess </a>base on <a href="https://github.com/cofess/hexo-theme-pure" target="_blank">pure</a>.
        </div>
    </div>
</footer>
  <script src="//cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
<script>
window.jQuery || document.write('<script src="js/jquery.min.js"><\/script>')
</script>

<script src="/js/plugin.min.js"></script>


<script src="/js/application.js"></script>


    <script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>

<script src="/js/insight.js"></script>






   
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





   
    
  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/valine"></script>
  <script type="text/javascript">
  var GUEST = ['nick', 'mail', 'link'];
  var meta = 'nick,mail,link';
  meta = meta.split(',').filter(function(item) {
    return GUEST.indexOf(item) > -1;
  });
  new Valine({
    el: '#vcomments',
    verify: false,
    notify: false,
    appId: '',
    appKey: '',
    placeholder: 'Just go go',
    avatar: 'mm',
    meta: meta,
    pageSize: '10' || 10,
    visitor: false
  });
  </script>

     







</body>
</html>